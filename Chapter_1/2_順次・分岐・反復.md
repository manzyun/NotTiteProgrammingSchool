### 最新のPythonにする

前回はまず「プログラミングとはどんな感じのものなのか」を知っていただくために各人のPythonでプログラミングしましたが、ここから先はPython3に統一して進めていこうと思います。

まずはPython公式サイトの[ダウンロード](http://www.python.jp/download/)ページにアクセスしましょう。  
次にあなたの使っているコンピューターに合わせたインストーラーをダウンロードしてください。Linuxだと、もしかすると既に入っているかもしれませんし、パッケージ配布されているかもしれません。


## プログラム3つの行進

プログラミングには3つの基本的な動きがあります。

* 順次：上から下に順番に演算していく
* 分岐：条件が揃えば演算する
* 反復：条件が揃うまで処理を繰り返す

ではなぜこのように3つの要素ができあがったのでしょうか。

コンピューターの実際の演算の様子は、順次と分岐しかありませんでした。しかも、その演算の手順もまるでゲームブックを読み進めるかのようなものでした。

#### NOTE:ゲームブックとは
画面に表示された選択肢を選んで進めていくテレビ（パソコン）ゲームの原型のような本のこと。基本は頭から読み進めていくが、途中でサイコロを振るなどの指示や、物語の途中で拾うであろうアイテムを持っているかという文章が出て、その結果によって別のページの指定された段落まで飛んで読み進めたりしてゲームを進める一人遊び用の本。

ゲームのように楽しむ分にはいいのですが、普段皆さんが本や文章を読むときに、あちこち戻ったり進んだりする文章は読みやすいでしょうか？　そして内容が入ってくるでしょうか？

皆さんが普段読む文章は、大半のものが構造的になっていると思います。特に説明文や論文などは章の中に節と言った形になっていますね。

「ソースコードもそういった形で構造的の方が途中からプログラミングを再開するときや、後から書きなおしたり書き加える時や、他の人に見せるときに見やすいよね。」  
ということで人類はよっぽどのことが無い限り、この3つの基本的な動きの組み合わせでソースコードを書くようにいたしました。


### 順次：上から下へと進んでいく

ではプログラミングに入りましょう。順次は上から下に順番に演算していきます。
次のソースコードを書いてみましょう。

```py
name = input("こんにちは……名前を教えてくれるかな？ >>> ")
length = len(name) # 文字数を数える
print("改めましてこんにちは", name, "さん。拙いことだが、あなたの名前の文字数は", length, "文字だね")
```

はい、ちょっと新しい命令が出てきましたね。*len*という命令ですが、これは"length"という単語の最初の3文字です。つまり「長さを測る命令」と思っておいてください。

その他は眺めていると思い出すかもしれません。思い出せない人はF5キーを押して「march.py」と名前をつけて実行してみましょう！

いかがでしたでしょうか？　「名前を尋ねられて、答えたら文字数と一緒に自分を呼ぶ」プログラムができたでしょうか？

では、この順番を変えるとどうなるでしょう？

```py
length = len(name) # 文字数を数える
print("改めましてこんにちは", name, "さん。拙いことだが、あなたの名前の文字数は", length, "文字だね")
name = input("こんにちは……名前を教えてくれるかな？ >>> ")
```

エラーが出ますね。これはnameという変数が作られる前にnameの変数のデータの長さを求めようとしたために起こったエラーです。  
このように、プログラムは基本的に上から下に演算していくので「この行に書いているのに……」と思ったら、書いてる場所を疑ってみるのもひとつかもしれません。

ちなみに、このようにブログラムの記述や進行を間違えてしまったために、プログラムが思ったとおりに動かないことを*バグ*と言います。


###分岐
決められた順番を高速で実行してくれるのはありがたいですが、「場合によってはこっち」という処理が必要になってきます。  
この際に使うのが分岐です。  
早速分岐の例を先ほどのソースコードに書き加えてみましょう。

```py
name = input("こんにちは……名前を教えてくれるかな？ >>> ")
length = len(name) # 文字数を数える
print("改めましてこんにちは", name, "さん。拙いことだが、あなたの名前の文字数は", length, "文字だね")

# ここから追加
print("ところで、今日の体調は？")
feel = input("元気:fine 風邪気味:cold >>> ")

# ここから分岐処理
if feel == "fine":
  print("それは良かった。健康が第一だからね")
else:
  print("おやおや、大丈夫かい？ 無理しないでね")
```

いかがでしょうか。実行してみると伝えた体調によって返答が変わるプログラムができたでしょうか。

さて、ここで気をつけていただきたいのは「変数への代入と等号を表す=は明確にかき分ける」というところです。  
ここでPython Shell（IDLEの実行結果が表示されていくウィンドウ）に移りまして、次のように1行づつ実行してましょう。

```py
x = 32
x == 64
print(x)
```

いかがでしょうか？　2行目の命令を実行すると「false」という表示がされましたでしょうか？  
そして3行目の命令を実行すると「32」と表示されましたか？

これが「変数への代入と等号を表す=は明確にかき分ける」ということです。  
1行目では「=」をひとつだけ書きましたが、これが「代入」の意味となり、2行目では「==」と2つ続けて書きましたが、これが等号の意味になります。  
2行目の「false」という文字は「偽」という意味を表します。つまり「そうではないよ」ということです。ちなみにこの反対の意味、つまり「そのとおり」という返答は[true」となります。


さて、先ほどの分岐処理にもうひとつ追加したい場合は以下のように記述します。
```py
# ここから分岐処理
if feel == "fine":
    print("それは良かった。健康が第一だからね")
elif feel == "sleepy": # もうひとつの条件
    print("お疲れ様。今日はうちに帰ったらゆっくり休んでね") #もうひとつの処理
else:
    print("おやおや、大丈夫かい？ 無理しないでね")
```
まとめると、if文は以下のようになります。

```py
if 条件式:
    条件式が成り立つときの処理
elif もうひとつの条件式:
    もうひとつの条件式が成り立つときの処理
elif さらにもうひとつ（いくつでも書ける）の条件式:
    さらにもうひとつ（いくつでも書ける）の条件式:
else:
    どの条件式も成り立たなかった時の処理
どの条件式が成り立っても成り立たなくても行う処理
```


### 反復
続いて反復ですが、前回行ったプログラムを覚えていますでしょうか？

```py
while True:
    print("なにか好きな文字") #頭の2つ半角スペースを忘れない
```

このプログラム、このまま実行するとずーっとなにか好きな文字が表示される危ないプログラムですが、これをちょっと書き換えましょう。  
（march.pyを書き換えてもいいですし、新しいファイルを作って実験してもいいです）

```py
loop = 0 #0回目と指定する
while loop < 10:
    print("なにか好きな文字")
    loop = loop + 1 #表示した回数を足す
```

するとどうでしょう。10行なにか好きな文字を表示して停止したと思います。

上のソースコードを解説していきますと、2行目で反復する条件を指定しており、まずは「この下の処理を行うかどうか」という確認をします。  
最初は変数「loop」の値は「0」なので、下の処理が実行されます。  
その下の行では文字を表示した後「この反復処理を1周したことを示すためにloopに1加える」という処理を行っています。  
そしてまた反復処理の最初となる2行目に戻るのですが、ここではさっきの変数「loop」の値は1追加されたので「1」となります。  

以上の処理を「loopの値が10未満の間」行います。なのでこの反復処理は「loopが10以上」になると終了します。

このように、反復処理はちゃんと指定すると終了するタイミングを指定することができます。  
また、終了する条件が数値で明確に表せる場合は「for」という命令を使って書くことも可能です。先ほどのソースコードを一旦消して次のソースコードを書いてみてください。

```py
for loop in range(0, 10):
    print("なにか好きな文字")
```

ここで新しく*range*という命令が出てきました。この命令は今回のソースコードの場合「0から始まる10つ並んだ数字（つまり10は含まない）の並びを作る」命令です。  
なので試しに以下のコードに書き換えてみましょう。

```py
for loop in range(0, 10):
    print(loop)
```

とすると数字が0〜9まで出てくると思います。

また、for文に関してはinの後ろのデータが尽きると自動的に反復処理を終了して次の処理に進みます。

ここで反復処理の書き方をまとめますと

```py
while 反復処理を続ける条件:
    反復させたい処理
反復処理から抜けた後の処理
```

もしくは

```py
for データの一つを取り出す変数 in データリスト:
    反復させたい処理
反復処理から抜けた後の処理
```

となります。

また、今までの分岐処理や反復処理の中に更に分岐処理や反復処理を書くこともできます。次のソースコードを動かしてみましょう

```py
for number in range(0,11):
    if 1 == number % 2:
        print(number)
```

新しい記号が出ました。計算に*%*の記号を使うと、余剰（割り算の余り）を求めます。

なのでこのプログラムは0から10までの奇数を表示していくプログラムとなります。


## 演習問題
さて、ここで演習問題です。

昔「1から数字を唱えて3の倍数の時だけ頭が悪くなる」という芸人さんがいらっしゃったのですが、それに似たプログラムを作ってみましょう。

ユーザーから入力された数字まで数を表示するプログラムです。しかし以下の条件があります。
* 3の倍数の時は「Fizz」と表示する。
* 5の倍数の時は「Buzz」と表示する。
* 3と5の倍数が成り立つときは「FizzBuzz」と表示する。

では作ってみましょう！　と言っても、実はここに書いてあることだけでは作ることはできません（ごめんね！）  
なので今回の内容の他に以下のヒントを頼りに作ってみてください。

### ヒント1
input命令で受け取れるデータは「文字列データ」です。なので「12」と入力してもコンピューターは「『12』という『文字』」と解釈してしまいます。

これを解決するために、inputの内容を入れる変数を「int()」という命令で数字に変えてあげます。こんな風に

``` py
max = int(input("いくつまで数えますか >>> "))
```

### ヒント2
「3と5の倍数が成り立つときは『FizzBuzz』と表示する。」の「3と5」を表現するキーワードがあります。それは「and」です。  
ただし、あなたが想像しているものとはちょっと違う書き方かもしれません。こんな感じ。

```py
number = 15
number % 3 == 0 and number % 5 == 0
```
余談ですが、「3か5（どっちも含んでも条件成立）」の場合は「and」の部分を「or」、「3はいいけど5はダメ」という時は「not」という風に書きます。


### ヒント3
等号(==)と不等号(>, <)を紹介しましたが、以下のような比較する記号もあります。

|記号|意味|
|---|---|
|==|等号|
|>|左側が右側よりも大きい|
|<|左側が右側よりも小さい|
|>=|左側が右側以上（同じ値も含む）|
|<=|左側が右側以下（同じ値も含む）|
|!=|左側と右側は同じじゃない（大きくても小さくても）|
